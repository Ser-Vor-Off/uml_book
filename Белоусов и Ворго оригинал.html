<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Глава 9. Диаграмма деятельности (activity diagram)</title>
    <style>
        body {
            font-family: "Times New Roman", serif;
            margin: 0 auto;
            max-width: 800px;
            line-height: 1.5;
        }
        h1, h2, h3, h4, h5 {
            margin: 20px 0;
        }
        p {
            text-align: justify;
            text-indent: 22.5pt;
        }
        .note {
            font-weight: bold;
            margin-top: 20px;
        }
        .figure {
            text-align: center;
            margin: 20px 0;
        }
        img {
            max-width: 100%; /* Адаптация изображений под размер контейнера */
            height: auto; /* Сохранение пропорций изображений */
        }
    </style>
</head>
<body>

<h1>Глава 9. Диаграмма деятельности (activity diagram)</h1>

<p>Для моделирования процессов изменения состояний систем и детализации особенностей их алгоритмических и процедурных реализаций традиционно применяются блок-схемы или структурные схемы алгоритмов. Они фокусируются на последовательностях выполнения действий, приводящих к желаемому результату. Примеры таких последовательностей можно найти в повседневной жизни, например, при звонке по телефону или приготовлении кофе.</p>

<p>С ростом сложности системы соблюдение строгой последовательности действий становится критически важным. Нарушения могут приводить к нежелательным последствиям, особенно в сложных системах, таких как авиационные или атомные технологии.</p>

<p>В языке UML для моделирования подобных процессов используются диаграммы деятельности, которые похожи на диаграммы состояний, но имеют специфическую графическую нотацию. Диаграммы деятельности в UML отличаются от диаграмм состояний тем, что представляют выполнение операций и действий, без учета сигналов событий. Каждое состояние соответствует отдельной операции, а переход происходит только после завершения предыдущей операции.</p>

<p>В контексте языка UML деятельность (activity) представляет собой некоторую совокупность отдельных вычислений, выполняемых автоматом. При этом отдельные элементарные вычисления могут приводить к некоторому результату или действию (action). На диаграмме деятельности отображается логика или последовательность перехода от одной деятельности к другой, при этом внимание фиксируется на результате деятельности.</p>

<h2>Примечания</h2>
<p>Хотя диаграмма деятельности предназначена для моделирования поведения систем, время в явном виде отсутствует на этой диаграмме. Ситуация здесь во многом аналогична диаграмме состояний.</p>

<h2>Глава 9.1 Состояние действия (activity diagram)</h2>

<p>Состояние действия (action state) является специальным случаем состояния с некоторым входным действием и, по крайней мере, одним выходящим из состояния переходом. Этот переход неявно предполагает, что входное действие уже завершилось. Состояние действия не может иметь внутренних переходов, поскольку оно является элементарным.</p>

<p>Обычное использование состояния действия заключается в моделировании одного шага выполнения алгоритма (процедуры) или потока управления.</p>

<h2>Часть II. Диаграммы концептуального, логического и физического моделирования</h2>

<p>Графически состояние действия изображается фигурой, напоминающей прямоугольник со сферическими боковыми сторонами. Внутри этой фигуры записывается имя состояния действия в форме выражения действия (action-expression), которое должно быть уникальным в пределах одной диаграммы деятельности.</p>

<div class="figure">
    <img src="https://i.imgur.com/48kTvTb.png" alt="Описание картинки">
</div>

<p>Действие может быть записано на естественном языке, псевдокоде или языке программирования без дополнительных ограничений. Рекомендуется использовать глаголы с пояснениями для имен простых действий. Формальные действия лучше записывать на языке реализации проекта. Сложные действия, состоящие из более простых, представляются состоянием под-деятельности (subactivity state), которое обозначается пиктограммой в правом нижнем углу символа состояния действия.</p>

<div class="figure">
    <img src="https://i.imgur.com/jMv1KTC.png" alt="Описание изображения">
</div>

<h2>Диаграмма деятельности (activity diagram)</h2>

<p>Каждая диаграмма деятельности должна содержать одно начальное и одно конечное состояние. Деятельность начинается в начальном состоянии и завершается в конечном. Диаграмму рекомендуется располагать так, чтобы действия шли сверху вниз: начальное состояние вверху, конечное внизу.</p>

<h2>Примечания</h2>
<p>В интересах удобства визуального представления на диаграмме деятельности допускается изображать несколько конечных состояний. В этом случае все их принято считать эквивалентными друг другу.</p>

<h2>Глава 9.2 Переходы (activity diagram)</h2>

<p>При создании диаграммы деятельности используются только нетриггерные переходы, которые срабатывают сразу после завершения действия или деятельности. Переход приводит к следующему состоянию, как только завершится предыдущее.</p>

<p>Если из состояния действия выходит один переход, он не требует метки. Если переходов несколько, каждый должен иметь свое сторожевое условие в квадратных скобках, чтобы сработал только один из них.</p>

<p>Ветвление на диаграмме деятельности обозначается символом решения (decision) в виде ромба без текста. К ромбу подходит одна стрелка от состояния действия, после которого поток управления продолжается по одной из исключающих друг друга ветвей.</p>

<h2>Часть II. Диаграммы концептуального, логического и физического моделирования</h2>

<div class="figure">
    <img src="https://i.imgur.com/UsQiFjl.png" alt="Описание изображения">
</div>

<p>Как видно из данного рисунка, из соображений удобства допускается использовать вместо одного из сторожевых условий бинарного решения слово "иначе" (else).</p> <br>

<h2>9.3. Дорожки </h2>

<p>Диаграммы деятельности применяются для моделирования бизнес-процессов, где каждое действие связывается с конкретным подразделением компании. В UML для этого используются "дорожки" (swimlanes), которые делят диаграмму на вертикальные секции, представляющие различные подразделения или сотрудников. Переходы между секциями отражают. Передачу ответственности между подразделениями (рис. 9.7). </p>

<div class="figure">
    <img src="https://i.imgur.com/A4Aq09y.png" alt="Описание изображения">
</div>

<h2>Часть II. Диаграммы концептуального, логического и физического моделирования</h2>

<p>Фрагмент диаграммы деятельности торговой компании, обслуживающей клиентов по телефону, включает три дорожки для отдела приема и оформления заказов, отдела продаж и склада, показывающие последовательность и ответственность каждого подразделения за выполнение рабочих действий (рис. 9.8).</p>

<div class="figure">
    <img src="https://i.imgur.com/L0i71hu.png" alt="Описание изображения">
</div>

<p>Диаграмма показывает, что после принятия заказа отдел приема и оформления заказов разделяет работу на два потока: получение оплаты и подбор товара в отделе продаж. Затем товар выдается со склада. Подготовка товара начинается только после получения оплаты и выдачи со склада. После этого товар отправляется клиенту.</p>

<h2>9.4. Объекты</h2>

<p>На диаграмме деятельности объекты инициируют или определяют результаты действий. Они представлены подчеркнутыми прямоугольниками классов с указанием состояния в скобках. Объекты связаны с действиями зависимостями, определяющими их состояние после выполнения действий. Расположение объекта на границе дорожек указывает на готовность документа для перехода к следующему действию, а внутри дорожки – на полное определение состояния объекта действиями этой дорожки. В примере с торговой компанией ключевым объектом является заказ, который проходит через этапы заполнения, подбора товара и передачи на склад.</p>

<p>Наконец, после получения подтверждения об оплате товара, соответствующие данные вносятся в заказ и он считается выполненным и закрытым.</p>

<div class="figure">
    <img src="https://i.imgur.com/7xsg1BM.png" alt="Описание изображения">
</div>

<p>Эта информация может быть представлена графически в виде модифицированного варианта диаграммы деятельности этой же торговой компании (рис. 9.9).</p>

<h2>Примечание:</h2>

<p>Объекты на диаграммах деятельности обычно представляют собой экземпляры классов сущностей или бизнес-сущностей. Один и тот же объект может быть изображен несколько раз, при этом важно указывать разные характеристики состояния для поддержания согласованности диаграммы.</p>

<p>Синхронизация параллельных действий на диаграмме деятельности достигается с помощью переходов "разделение-слияние", без использования специальных обозначений. Пример с процессом постройки дома иллюстрирует эту концепцию: строительные работы и работы по электрификации выполняются параллельно, а затем синхронизируются.</p>

<p>Каждое состояние под деятельности может быть детализировано отдельной диаграммой, включая более мелкие действия (например, подготовка участка включает очистку территории, рытье котлована и т.д.) (рис. 9.10).</p>

<div class="figure">
    <img src="https://i.imgur.com/a7mFXhs.png" alt="Описание изображения">
</div>

<h2>9.5. Рекомендации по построению диаграмм деятельности</h2>

<p>Диаграммы деятельности важны для понимания процессов выполнения операций и процедурных потоков управления в системах. Они позволяют наглядно представлять бизнес-процессы, используя дорожки и объекты, что особенно полезно для описания деятельности подразделений компаний.</p>

<p>При проектировании диаграмм деятельности сначала выделяются под-деятельности, которые позже уточняются в виде отдельных диаграмм. В уже работающих системах можно сохранять существующие процессы, встраивая их в новые диаграммы. В проектах с новыми технологиями разработка идет от общего к частному, уточняя детали по ходу работы.</p>

<p>Для оптимизации диаграмм рекомендуется использовать специализированные инструменты, например сети Петри и нейронные сети, чтобы анализировать поведение системы и улучшать её производительность и надежность.</p>

<p>Процесс объектно-ориентированной разработки включает чередующиеся этапы нисходящего и восходящего проектирования, выбор которых зависит от сложности и новизны проекта.</p>

<div class="figure">
    <img src="https://i.imgur.com/3jubifu.png" alt="Описание изображения">
</div>

<div class="figure">
    <img src="https://i.imgur.com/X1wQDps.png" alt="Описание изображения">
</div>

<h2>Глава 10. Диаграмма компонентов (component diagram)</h2>

<p>Логическое представление системы отражает концептуальные аспекты, такие как классы, ассоциации и состояния, и служит для анализа структурных и функциональных отношений. Физическое представление описывает реализацию системы в материальных сущностях, таких как исходный код, модули и исполняемые файлы.</p>

<p>Для разработки программной системы логическое представление включает алгоритмы и процедуры, а физическое — исходный код и исполняемые модули. Полный проект объединяет обе модели, обеспечивая их согласованность.</p>

<p>В UML для физического представления используют диаграммы реализации: диаграмму компонентов и диаграмму развертывания. Диаграмма компонентов описывает архитектуру системы, зависимости между компонентами и их взаимодействие.</p>

<h3>10.1. Компоненты</h3>

<p>Компоненты в языке UML представляют физические сущности модели и являются потомками классификаторов. Они отображают физическую организацию элементов модели и могут иметь текстовые стереотипы, пометки и собственное графическое представление.</p>

<div class="figure">
    <img src="https://i.imgur.com/dOsgixa.png" alt="Описание изображения">
</div>

<p>Символ компонента в UML произошел от обозначения модуля программы, где верхний маленький прямоугольник представлял данные, а нижний — методы. В UML имена данных и методов не указываются.</p>

<h3>10.1.1. Имя компонента</h3>

<p>Имя компонента в UML может содержать буквы, цифры и знаки препинания. Оно записывается по-разному в зависимости от уровня представления:</p>

<ul>
    <li>Уровень типа: Имя типа с заглавной буквы, например &lt;ИмяТипа&gt;.</li>
    <li>Уровень экземпляра: Собственное имя компонента и имя типа, подчеркнутое, например &lt;имяКомпонента : ИмяТипа&gt;.</li>
</ul>

<h3>Примечание:</h3>
<p>Хотя правила именования объектов в языке UML требуют подчеркивания имени отдельных экземпляров, применительно к компонентам в литературе подчеркивание их имени часто опускают.</p>

<h3>10.1.2. Виды компонентов</h3>

<p>В языке UML собственные имена компонентов часто совпадают с именами файлов различных типов, таких как исполняемые файлы (.exe), динамические библиотеки (.dll), веб-страницы (.html), текстовые файлы (.txt, .doc), файлы базы данных (.db) и исходные тексты программ (.cpp, .java).</p>

<p>Для повышения наглядности диаграммы компонентов используются графические стереотипы:</p>

<ul>
    <li>&lt;&lt;file&gt;&gt; — общий физический файл;</li>
    <li>&lt;&lt;executable&gt;&gt; — исполнимый файл;</li>
    <li>&lt;&lt;document&gt;&gt; — документ, не являющийся исполнимым файлом или исходным текстом;</li>
    <li>&lt;&lt;library&gt;&gt; — динамическая или статическая библиотека;</li>
    <li>&lt;&lt;source&gt;&gt; — файл с исходным текстом программы;</li>
    <li>&lt;&lt;table&gt;&gt; — таблица базы данных.</li>
</ul>

<p>Текстовый стереотип указывается перед именем компонента для уточнения его вида.</p>

<h3>Примечание:</h3>
<p>Некоторые разработчики создали свои графические стереотипы для различных типов компонентов, но широко применяются только стереотипы Дж. Коналлена, предназначенные для Web-приложений.</p>

<h3>10.2. Интерфейсы</h3>

<p>Интерфейсы на диаграммах компонентов изображаются окружностью, связанной с компонентом линией без стрелок. Имя интерфейса начинается с заглавной буквы "I" и пишется рядом с окружностью.</p>

<div class="figure">
    <img src="https://i.imgur.com/dow9o8E.png" alt="Описание изображения">
</div>

<p>Другой способ представления интерфейса — прямоугольник класса со стереотипом «интерфейс» и секциями атрибутов и операций. Этот вариант используется для демонстрации внутренней структуры интерфейса.</p>

<p>Интерфейсы в программных системах обеспечивают совместимость версий и возможность внесения изменений в одну часть программы без влияния на другую.</p>

<p>Существует два типа связей интерфейса с компонентом:</p>

<ul>
    <li><b>Экспортируемый интерфейс</b> — компонент предоставляет сервис другим компонентам.</li>
    <li><b>Импортируемый интерфейс</b> — компонент использует интерфейс, предоставляемый другим компонентом.</li>
</ul>

<h3>10.3. Зависимости</h3>

<p>Отношение зависимости на диаграмме компонентов изображается пунктирной линией со стрелкой от клиента к источнику. Зависимости могут показывать связи файлов на этапе компиляции или наличие описаний классов в одном компоненте, используемых в другом.</p>

<p>На диаграмме компонентов могут быть показаны зависимости между компонентами и реализованными в них классами. Это важно для согласования логического и физического представлений системы.</p>

<div class="figure">
    <img src="https://i.imgur.com/tpachLo.png" alt="Описание изображения">
</div>

<p>На диаграмме компонентов отношение зависимости может изображать вызов и компиляцию между разными компонентами. Например, на рисунке 10.5 показано, что исполнимый компонент Main.exe использует функциональность компонента Dialog.dll, вызывает страницу Index.html и файл помощи Context.hlp, а исходный текст хранится в файле Main.cpp.
Характер зависимостей может быть уточнен с помощью текстовых стереотипов.</p>

<div class="figure">
    <img src="https://i.imgur.com/x6xiO8B.png" alt="Описание изображения">
</div>

<p>На диаграмме компонентов могут быть показаны зависимости между компонентами и реализованными в них классами. Это важно для согласования логического и физического представлений системы. Изменения в структурах классов могут повлиять на эти зависимости. Например, на рисунке 10.6 показан исполнимый компонент Main.exe, который зависит от определенных классов.</p>

<div class="figure">
    <img src="https://i.imgur.com/LGi1M3f.png" alt="Описание изображения">
</div>

<p>Если нужно показать, что компонент реализует определенные классы, используется расширенный символ прямоугольника. Прямоугольник делится на две секции: верхняя для имени компонента и дополнительной информации, а нижняя — для списка реализуемых классов.</p>

<div class="figure">
    <img src="https://i.imgur.com/WvmAZi6.png" alt="Описание изображения">
</div>

<p>Внутри символа компонента могут размещаться другие элементы, такие как классы или объекты. Если компонент является примером, он может содержать объекты. Например, на рисунке 10.8 компонент реализует три объекта.</p>

<div class="figure">
    <img src="https://i.imgur.com/VvdmXs5.png" alt="Описание изображения">
</div>

<p>Доступ к объектам может регулироваться кванторами видимости, аналогично пакетам.</p>

<h3>10.4. Пример построения диаграммы компонентов системы управления банкоматом</h3>

<p>Для системы управления банкоматом создается диаграмма компонентов, показывающая последовательность компиляции файлов и импорт/экспорт операций. На диаграмме представлены шесть компонентов: два исполняемых файла, одна динамическая библиотека и три текстовых файла с исходным кодом на C++. Исполнимый компонент MainATM использует операции интерфейса IAuthorise, реализованного в компоненте MainBank.</p>

<div class="figure">
    <img src="https://i.imgur.com/4S1cR58.png" alt="Описание изображения">
</div>

<p>Эта диаграмма отражает один из возможных вариантов физической реализации модели. Если выбрать другой язык программирования, например Java или Pascal, диаграмма компонентов изменится соответственно.</p>

<div class="figure">
    <img src="https://i.imgur.com/chXEcYr.png" alt="Описание изображения">
</div>

<div class="figure">
    <img src="https://i.imgur.com/zmYyugI.png" alt="Описание изображения">
</div>

<p>Диаграмма компонентов создается только при планировании программной реализации модели. Если программная реализация не предусмотрена, например, в проектах документирования или реинжиниринга бизнес-процессов, эта диаграмма может отсутствовать.</p>

<h3>10.5. Рекомендации по построению диаграммы компонентов</h3>

<p>Разработка диаграммы компонентов требует учета логического представления системы и особенностей её физической реализации. Перед началом работы необходимо выбрать платформы, операционные системы, базы данных и языки программирования. Затем определяются физические части (файлы) системы, при этом особое внимание уделяется повторному использованию кода и созданию объектов по необходимости для улучшения производительности.</p>

<p>После структуризации физической модели добавляются интерфейсы и схема базы данных. Интерфейсы обеспечивают стыковку частей системы, а база данных описывает таблицы и информационные связи между ними. Завершающий этап включает установление взаимосвязей между компонентами и отношений реализации, что иллюстрирует важные аспекты физической реализации системы.</p>

<p>Важно следовать принципам UML, используя стандартные стереотипы и механизмы расширения для нетипичных компонентов. Диаграмма компонентов обычно разрабатывается вместе с диаграммой развертывания, которая описывает размещение компонентов по узлам системы.</p>
<div class="figure">
    <img src="https://i.imgur.com/wZH2mYD.png" alt="Описание картинки">
</div>
</body>
</html>
